{"ast":null,"code":"var __assign = this && this.__assign || Object.assign || function (t) {\n  for (var s, i = 1, n = arguments.length; i < n; i++) {\n    s = arguments[i];\n\n    for (var p in s) {\n      if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n  }\n\n  return t;\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport createPosed from 'react-pose-core';\nimport { getStylesFromPoser } from \"./inc/utils\";\nimport pose from 'animated-pose';\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport PanResponder from \"react-native-web/dist/exports/PanResponder\";\nimport { warning } from 'hey-listen';\nvar posed = createPosed({\n  componentMap: {\n    View: Animated.View,\n    Image: Animated.Image,\n    Text: Animated.Text,\n    ScrollView: Animated.ScrollView\n  },\n  poseFactory: pose,\n  getStylesFromPoser: getStylesFromPoser,\n  createAnimatedComponent: function createAnimatedComponent(Component) {\n    return Animated.createAnimatedComponent(Component);\n  },\n  filterConfig: function filterConfig(_a) {\n    var draggable = _a.draggable,\n        config = __rest(_a, [\"draggable\"]);\n\n    return config;\n  },\n  transformConfig: function transformConfig(config) {\n    var draggable = config.draggable;\n    if (!draggable) return;\n    config._drag = {\n      x: 0,\n      y: 0\n    };\n    config.props = __assign({}, config.props, {\n      useNativeDriver: false\n    });\n  },\n  getProps: function getProps(poser, _a, _b, setLayout) {\n    var draggable = _a.draggable;\n    var onDragStart = _b.onDragStart,\n        onDragEnd = _b.onDragEnd,\n        flipMove = _b.flipMove,\n        measureSelf = _b.measureSelf;\n    var props = {};\n\n    if (draggable) {\n      warning(false, 'draggable: true disables useNativeDriver for this component.');\n      var values_1 = poser.get();\n      var dragX_1 = draggable === true || draggable === 'x';\n      var dragY_1 = draggable === true || draggable === 'y';\n      var panResponder = PanResponder.create({\n        onMoveShouldSetPanResponderCapture: function onMoveShouldSetPanResponderCapture() {\n          return true;\n        },\n        onPanResponderMove: Animated.event([null, {\n          dx: dragX_1 ? values_1.x : null,\n          dy: dragY_1 ? values_1.y : null\n        }]),\n        onPanResponderGrant: function onPanResponderGrant(e, gestureState) {\n          if (dragX_1) {\n            values_1.x.setOffset(values_1.x._value);\n            values_1.x.setValue(0);\n          }\n\n          if (dragY_1) {\n            values_1.y.setOffset(values_1.y._value);\n            values_1.y.setValue(0);\n          }\n\n          if (onDragStart) onDragStart(e, gestureState);\n          poser.set('dragging', {\n            gestureState: gestureState\n          });\n        },\n        onPanResponderRelease: function onPanResponderRelease(e, gestureState) {\n          if (onDragEnd) onDragEnd(e, gestureState);\n          if (dragX_1) values_1.x.flattenOffset();\n          if (dragY_1) values_1.y.flattenOffset();\n          poser.set('dragEnd', {\n            gestureState: gestureState\n          });\n        }\n      });\n      props = __assign({}, props, panResponder.panHandlers);\n    }\n\n    if (flipMove || measureSelf) {\n      props.onLayout = function (_a) {\n        var nativeEvent = _a.nativeEvent;\n        return setLayout(nativeEvent.layout);\n      };\n    }\n\n    return props;\n  }\n});\nexport default posed;","map":{"version":3,"sources":["../src/posed.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["var __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nimport createPosed from 'react-pose-core';\nimport { getStylesFromPoser } from './inc/utils';\nimport pose from 'animated-pose';\nimport { Animated, PanResponder } from 'react-native';\nimport { warning } from 'hey-listen';\nvar posed = createPosed({\n    componentMap: {\n        View: Animated.View,\n        Image: Animated.Image,\n        Text: Animated.Text,\n        ScrollView: Animated.ScrollView\n    },\n    poseFactory: pose,\n    getStylesFromPoser: getStylesFromPoser,\n    createAnimatedComponent: function (Component) {\n        return Animated.createAnimatedComponent(Component);\n    },\n    filterConfig: function (_a) {\n        var draggable = _a.draggable, config = __rest(_a, [\"draggable\"]);\n        return config;\n    },\n    transformConfig: function (config) {\n        var draggable = config.draggable;\n        if (!draggable)\n            return;\n        config._drag = { x: 0, y: 0 };\n        config.props = __assign({}, config.props, { useNativeDriver: false });\n    },\n    getProps: function (poser, _a, _b, setLayout) {\n        var draggable = _a.draggable;\n        var onDragStart = _b.onDragStart, onDragEnd = _b.onDragEnd, flipMove = _b.flipMove, measureSelf = _b.measureSelf;\n        var props = {};\n        if (draggable) {\n            warning(false, 'draggable: true disables useNativeDriver for this component.');\n            var values_1 = poser.get();\n            var dragX_1 = draggable === true || draggable === 'x';\n            var dragY_1 = draggable === true || draggable === 'y';\n            var panResponder = PanResponder.create({\n                onMoveShouldSetPanResponderCapture: function () { return true; },\n                onPanResponderMove: Animated.event([\n                    null,\n                    {\n                        dx: dragX_1 ? values_1.x : null,\n                        dy: dragY_1 ? values_1.y : null\n                    }\n                ]),\n                onPanResponderGrant: function (e, gestureState) {\n                    if (dragX_1) {\n                        values_1.x.setOffset(values_1.x._value);\n                        values_1.x.setValue(0);\n                    }\n                    if (dragY_1) {\n                        values_1.y.setOffset(values_1.y._value);\n                        values_1.y.setValue(0);\n                    }\n                    if (onDragStart)\n                        onDragStart(e, gestureState);\n                    poser.set('dragging', { gestureState: gestureState });\n                },\n                onPanResponderRelease: function (e, gestureState) {\n                    if (onDragEnd)\n                        onDragEnd(e, gestureState);\n                    if (dragX_1)\n                        values_1.x.flattenOffset();\n                    if (dragY_1)\n                        values_1.y.flattenOffset();\n                    poser.set('dragEnd', { gestureState: gestureState });\n                }\n            });\n            props = __assign({}, props, panResponder.panHandlers);\n        }\n        if (flipMove || measureSelf) {\n            props.onLayout = function (_a) {\n                var nativeEvent = _a.nativeEvent;\n                return setLayout(nativeEvent.layout);\n            };\n        }\n        return props;\n    }\n});\nexport default posed;\n//# sourceMappingURL=posed.js.map"]},"metadata":{},"sourceType":"module"}